var CM_JSON = {
    mm: {
        by: {
            desc: "你有活力，从不掩饰感情，要么热情洋溢，要么怒发冲冠。你思想活跃和观察问题独特，不愿做家庭主妇，即便是也要掌握家庭话语权。你一直坚持自我，凭冲动决定事情，有时会带给孩子惊喜，有时扰乱孩子的阵脚。",
            title: "白羊座妈妈（3月21日~4月19日）",
            value: "白羊座",
            by: {score: 90, star: 5},
            jn: {score: 75, star: 4},
            sz: {score: 82, star: 4},
            jx: {score: 47, star: 2},
            szi: {score: 94, star: 5},
            cn: {score: 65, star: 3},
            tp: {score: 85, star: 5},
            tx: {score: 70, star: 4},
            ss: {score: 99, star: 5},
            mj: {score: 58, star: 3},
            sp: {score: 88, star: 5},
            sy: {score: 79, star: 4},
            best: "射手座"
        },
        jn: {
            desc: "你内向、但总是精力充沛。你喜欢呆在家里，爱孩子胜过一切，并对他们寄予厚望。你是一个理想的家庭主妇、出色的女主人和精明强干的女经纪人。因为你善于理财，有超高的烹饪技术，喜欢养花弄草，让家里看起来生机盎然。",
            title: "金牛座妈妈（4月20日～5月20日）",
            value: "金牛座",
            by: {score: 68, star: 3},
            jn: {score: 88, star: 5},
            sz: {score: 72, star: 4},
            jx: {score: 75, star: 4},
            szi: {score: 45, star: 2},
            cn: {score: 97, star: 5},
            tp: {score: 57, star: 3},
            tx: {score: 78, star: 4},
            ss: {score: 61, star: 3},
            mj: {score: 93, star: 5},
            sp: {score: 66, star: 3},
            sy: {score: 81, star: 4},
            best: "处女座"
        },
        sz: {
            desc: "你的脑袋里总有新奇的想法，但通常实现不了，半途而废或被其他事情冲淡。你不喜欢平淡的生活，希望生活丰富多彩，喜欢郊游、旅行、结识新朋友。你会用紧张、频繁的工作和活动来驱散烦恼。你很理智，善于在关键时刻做选择。",
            title: "双子座妈妈（5月21日～6月21日）",
            value: "双子座",
            by: {score: 79, star: 4},
            jn: {score: 76, star: 4},
            sz: {score: 89, star: 5},
            jx: {score: 71, star: 4},
            szi: {score: 81, star: 4},
            cn: {score: 57, star: 3},
            tp: {score: 93, star: 5},
            tx: {score: 69, star: 3},
            ss: {score: 86, star: 5},
            mj: {score: 64, star: 3},
            sp: {score: 99, star: 5},
            sy: {score: 48, star: 2},
            best: "水瓶座"
        },
        jx: {
            desc: "你具有百分百的母性，为了孩子甘愿献出全部的爱。但同时你需要丈夫的信任和保护，需你有超强的直觉、感情细腻、性格被动、依赖性强。你有慈母的热情和孩子般的天真，所以你容易制造出惊慌的气氛，但在真正危险面前往往不知所措。",
            title: "巨蟹座妈妈（6月22日～7月22日）",
            value: "巨蟹座",
            by: {score: 52, star: 3},
            jn: {score: 82, star: 4},
            sz: {score: 78, star: 4},
            jx: {score: 89, star: 5},
            szi: {score: 61, star: 3},
            cn: {score: 84, star: 4},
            tp: {score: 66, star: 3},
            tx: {score: 92, star: 5},
            ss: {score: 70, star: 4},
            mj: {score: 87, star: 5},
            sp: {score: 74, star: 4},
            sy: {score: 97, star: 5},
            best: "双鱼座"
        },
        szi: {
            desc: "你是高贵的女王，能力强、十分自信。对孩子永远是阳光普照、鼓励、拥抱和交流。你非常喜欢赞美，有点爱炫耀，随时都在表达自己的想法，并希望孩子服从。你喜欢频繁、颇讲排场地招待自己的亲朋好友，是一个让人喜欢的女主人。",
            title: "狮子座妈妈（7月23日～8月22日）",
            value: "狮子座",
            by: {score: 97, star: 5},
            jn: {score: 56, star: 3},
            sz: {score: 79, star: 4},
            jx: {score: 69, star: 3},
            szi: {score: 87, star: 5},
            cn: {score: 72, star: 4},
            tp: {score: 81, star: 4},
            tx: {score: 45, star: 2},
            ss: {score: 92, star: 5},
            mj: {score: 77, star: 4},
            sp: {score: 84, star: 4},
            sy: {score: 62, star: 3},
            best: "白羊座"
        },
        cn: {
            desc: "你可爱、懦弱、谦逊，常常为没能达到尽善尽美而感到内疚和不安。你总是将自己的幸福置之度外，为别人贡献出全部精力。你十分注重细节，有点强迫症。你知道如何体贴、照顾亲人，心甘情愿承担家庭生活的责任，并乐在其中。",
            title: "处女座妈妈（8月23日～9月22日）",
            value: "处女座",
            by: {score: 61, star: 3},
            jn: {score: 91, star: 5},
            sz: {score: 76, star: 4},
            jx: {score: 88, star: 5},
            szi: {score: 66, star: 3},
            cn: {score: 89, star: 5},
            tp: {score: 49, star: 2},
            tx: {score: 81, star: 4},
            ss: {score: 72, star: 4},
            mj: {score: 95, star: 5},
            sp: {score: 55, star: 3},
            sy: {score: 84, star: 4},
            best: "摩羯座"
        },
        tp: {
            desc: "你温柔、娴雅，容易相处，具有惹人注目的魅力。在家庭里你不会完全依靠丈夫，而是自己承担生活中的责任。你很会解决矛盾与纠纷，会给家庭生活带来欢乐和平静。你很有艺术才华，但总是“泛”而不“专”。",
            title: "天秤座妈妈（9月23日～10月23日）",
            value: "天秤座",
            by: {score: 85, star: 5},
            jn: {score: 74, star: 4},
            sz: {score: 98, star: 5},
            jx: {score: 58, star: 3},
            szi: {score: 88, star: 5},
            cn: {score: 77, star: 4},
            tp: {score: 90, star: 5},
            tx: {score: 71, star: 4},
            ss: {score: 80, star: 4},
            mj: {score: 47, star: 2},
            sp: {score: 95, star: 5},
            sy: {score: 64, star: 3},
            best: "双子座"
        },
        tx: {
            desc: "你喜欢亲自动手，不断改善环境，更新自己的想法，不喜欢无所事事。你的占有欲很强，受到伤害会产生强烈的报复心。当关系到你的切身利益时，你会毫不留情面。虽然你不会在公众场合称赞自己的孩子，但私下里会以孩子为骄傲。",
            title: "天蝎座妈妈（10月24日～11月22日）",
            value: "天蝎座",
            by: {score: 60, star: 3},
            jn: {score: 80, star: 4},
            sz: {score: 68, star: 3},
            jx: {score: 97, star: 5},
            szi: {score: 65, star: 3},
            cn: {score: 84, star: 4},
            tp: {score: 73, star: 4},
            tx: {score: 87, star: 5},
            ss: {score: 47, star: 2},
            mj: {score: 76, star: 4},
            sp: {score: 57, star: 3},
            sy: {score: 92, star: 5},
            best: "巨蟹座"
        },
        ss: {
            desc: "你对世一切事情都有兴趣，喜欢旅行、交朋友。你单纯、爱好运动、内心充满欢乐。在结婚前，你不愿受到感情约束；但度过了自由的独身生活后，一旦建立家庭，你会变成贤妻良母和家庭的中流砥柱。你会为家庭成员在相处中找到平衡点。",
            title: "射手座妈妈（11月23日～12月21日）",
            value: "射手座",
            by: {score: 92, star: 5},
            jn: {score: 70, star: 4},
            sz: {score: 81, star: 4},
            jx: {score: 65, star: 3},
            szi: {score: 98, star: 5},
            cn: {score: 58, star: 3},
            tp: {score: 86, star: 5},
            tx: {score: 68, star: 3},
            ss: {score: 89, star: 5},
            mj: {score: 75, star: 4},
            sp: {score: 78, star: 4},
            sy: {score: 44, star: 2},
            best: "狮子座"
        },
        mj: {
            desc: "你是个工作狂，喜欢离群独处，你追求尽善尽美，对孩子的错误很在意，很注重孩子在礼仪上的教育。你很节约，掌管家庭财政，在开销有计划。生活中你会以最大的能力去帮助和照顾丈夫、孩子，从无任何怨言。",
            title: "摩羯座妈妈（12月22日～1月19日） ",
            value: "摩羯座",
            by: {score: 43, star: 2},
            jn: {score: 97, star: 5},
            sz: {score: 70, star: 4},
            jx: {score: 80, star: 4},
            szi: {score: 59, star: 3},
            cn: {score: 92, star: 5},
            tp: {score: 51, star: 3},
            tx: {score: 85, star: 5},
            ss: {score: 64, star: 3},
            mj: {score: 88, star: 5},
            sp: {score: 74, star: 4},
            sy: {score: 77, star: 4},
            best: "金牛座"
        },
        sp: {
            desc: "你好奇心强、个性强，不愿附和，也不能忍受约束。你常常把强烈的愿望和独立精神融合在一起，如果某件事引起你的兴趣，你会为之付出巨大的努力。你容易走极端，时而异想天开，幽默过人；时而又冷若冰霜，令人费解，不易与人相处。",
            title: "水瓶座妈妈（1月20日～2月18日）",
            value: "水瓶座",
            by: {score: 72, star: 4},
            jn: {score: 41, star: 2},
            sz: {score: 91, star: 5},
            jx: {score: 58, star: 3},
            szi: {score: 78, star: 4},
            cn: {score: 64, star: 3},
            tp: {score: 96, star: 5},
            tx: {score: 51, star: 3},
            ss: {score: 82, star: 4},
            mj: {score: 69, star: 3},
            sp: {score: 87, star: 5},
            sy: {score: 60, star: 3},
            best: "双子座"
        },
        sy: {
            desc: "你性情温柔，易于相处，是一个浪漫而富于幻想的人，善于理解孩子的想法。你对生活充满热望，但缺少应变的能力，性格比较脆弱，喜欢被别人安排。你容易被人用感情打动，从不会说“不”字。",
            title: "双鱼座妈妈（2月19日～3月20日）",
            value: "双鱼座",
            by: {score: 71, star: 4},
            jn: {score: 78, star: 4},
            sz: {score: 46, star: 2},
            jx: {score: 93, star: 5},
            szi: {score: 61, star: 3},
            cn: {score: 65, star: 3},
            tp: {score: 74, star: 4},
            tx: {score: 99, star: 5},
            ss: {score: 54, star: 2},
            mj: {score: 82, star: 4},
            sp: {score: 69, star: 3},
            sy: {score: 88, star: 5},
            best: "天蝎宝宝"
        }
    },
    bb: {
        by: {
            desc: "白羊宝宝十分好动，反抗精神强，很难教育，脾气来的快也去的快。他需要你用冷静并强有力的权威来引导，千万不可对他娇惯妥协，因为他很快就会让你焦头烂额。你可以让他多参加一些剧烈的体育活动，消耗掉他多余的体能。",
            title: "白羊座宝宝（3月21日~4月19日）"
        },
        jn: {
            desc: "金牛宝宝是个慢性子，他想问题时你千万不要催促，否则他会变得消极或固执己见，以致被人误认为很愚笨。他不喜欢变化，需要有规律的生活节奏和环境，他的工艺能力高于智力，动手能力比较强，喜欢琢磨小玩意儿。",
            title: "金牛座宝宝（4月20日～5月20日）"
        },
        sz: {
            desc: "双子宝宝心里长了草，每时每刻都在寻找新鲜事。他很聪明，勤学好问，喜欢读书。他有与众不同的创造才能和敏锐的感知力，但他最大的弱点是精力过于分散，同时被许多事情吸引，只有加强他的纪律观念才能摆脱他浮躁的毛病。",
            title: "双子座宝宝（5月21日～6月21日）"
        },
        jx: {
            desc: "巨蟹宝宝感情细腻敏感，家庭不和对他的影响很大。他性情温和，心地善良，易受感动，但也反复无常，动不动就生气。巨蟹座是个会流许多泪的星座，他在具有想象力的课程上会有大成就：文学、音乐、绘画等。",
            title: "巨蟹座宝宝（6月22日～7月23日）"
        },
        szi: {
            desc: "狮子宝宝是孩子王，他是非感相当强，爱憎分明。你要注意维护他的尊严，及时赞扬他的优点，不能刺伤他的自尊心，否则他会愈加固执难管。但一旦认定了方向，他会认真刻苦地学下去，成绩会名列前茅。他的弱点是过分喜欢听恭维的话。",

            title: "狮子座宝宝（7月23日～8月22日）"
        },
        cn: {
            desc: "处女宝宝胆子小，身体弱。他不太合群，喜欢独自观察思考，具有批评精神，这会导致别人的恼怒。但他求知欲强，喜欢积累知识。你可以让他多参加体育活动，强健身体，同时促使他多交朋友，避免孤独感和抑制性心理的滋长。",
            title: "处女座宝宝（8月23日～9月22日）"
        },
        tp: {
            desc: "天秤宝宝很帅气、讨人喜欢，容易获得钦佩、赞扬和好感。但要注意防止他滋长一种“小皇帝”、一切都要靠别人的思想倾向。粗暴的方式不适合他，在学习方面要循循善诱，鼓励督促，因为他生性懒散，容易贪玩而放任自己。",
            title: "天秤座宝宝（9月23日～10月23日）"
        },
        tx: {
            desc: "天蝎宝宝心理十分复杂并难以理解。他沉默寡言、不动声色，但内心却慢慢地积累着愿望或不满。不要低估他，他可能变得最好，也可能变得最坏。中伤和轻视会导致他产生不满情绪，使他不求上进。不要强迫他做事情。",
            title: "天蝎座宝宝（10月24日～11月22日）"
        },
        ss: {
            desc: "射手宝宝喜欢笑，生气勃勃。他需要自由、喜欢冒险、有独立精神。如果你能正确对待和理解他，他也会配合你，反之你会管不住他。他特别有语言天赋，向往远方，喜欢随心所欲的生活而不愿被锁在条条框框中。",
            title: "射手座宝宝（11月23日～12月21日）"
        },
        mj: {
            desc: "摩羯宝宝思想早熟，经常对人和事物产生防御心理。他严肃、认真，比较孤独，你要督促他多交朋友。他有自己积累知识的方法和严格的组织纪律观念。他喜欢收集归类，在学习、工作和生活上有条不紊，有些过分追求完美。",
            title: "摩羯座宝宝（12月22日～1月19日） "
        },
        sp: {
            desc: "水瓶宝宝观察能力强，是天生的发明家。他接受能力很强，喜欢搞清楚事情背后的原因，很容易有与众不同的见解。如果对所学知识全无兴趣，他就不能发挥聪明过人的特征。他很任性，喜欢“倒行逆施”。",
            title: "水瓶座宝宝（1月20日～2月18日）"
        },
        sy: {
            desc: "双鱼宝宝的适应能力相当强，他的成长和发展几乎完全取决于他周围人的影响。他顺从、聪慧、灵活，观察和模仿能力极强，但不要以为他不言不语的时候，就是可以放心不管的时候，因为他常常会提出令人意想不到的问题。",
            title: "双鱼座宝宝（2月19日～3月20日）"
        }
    }
};

Zepto(function ($) {
    var height = document.body.offsetHeight;
    var width = document.body.offsetWidth;
    console.log(height + "-" + width);
    if (width >= height) {
        var _w = height / 1334 * 750;
        console.log()
        $(".main").css("width", _w);
    }
    $("#p1").css("display", "block");


    $("#d-mm").swipeLeft(function () {
        $("#d-mm").hide();
        $("#d-bb").show('slow');
    });
    $("#d-bb").swipeRight(function () {
        $("#d-bb").hide();
        $("#d-mm").show('slow');
    });

    $(".left").on("click", function () {
        $("#d-mm").hide();
        $("#d-bb").show('slow');
    });
    $(".right").on("click", function () {
        $("#d-bb").hide();
        $("#d-mm").show('slow');
    });


    $("#back3").on("click", function () {
        history.back();
    });
    $("#back4").on("click", function () {
        $("#p4").hide();
        $("#p3").show('fast');
    });
});

$("#btn-begin").on("click", function (event) {
    $("#p1").hide();
    $('.birth').focus(function (event) {
        $(this).date({});
    });
    $("#p2").show('fast');
});


$("#btn-exp").on("click", function (event) {
    $("#p3").hide();
    $("#p4").show('slow');

});


document.body.addEventListener('touchmove', function (event) {
    event.preventDefault();
}, false);

function initMore() {
    $("#p2").show();

    var _CKW = $(".check-bb").width();
    $(".check-bb").height(_CKW)

    var _CKICON = $(".icon2-by").width();
    $(".icon2").height(_CKICON)
    console.log(_CKICON);
    console.log(_CKW);
}

function readMM(mmcm) {
    if (mmcm == '') {
        mmcm = "by";
    }
    var bbb = CM_JSON.mm[mmcm].value;
    bbb = bbb.substring(0, 2);
    $("#more-ck-mm").html(bbb + "妈妈");
    $("#more-ck-mm").attr('data-content', mmcm);

}

function cmShow(mmcm, bbcm) {
    $("#mm-icon").addClass("cm-mm-" + mmcm);
    $("#bb-icon").addClass("cm-bb-" + bbcm);
    var mm_desc = CM_JSON.mm[mmcm].desc;
    var bb_desc = CM_JSON.bb[bbcm].desc;
    var mm_title = CM_JSON.mm[mmcm].title;
    var bb_title = CM_JSON.bb[bbcm].title;
    $("#mm-desc").html(mm_desc);
    $("#bb-desc").html(bb_desc);
    $("#mm-title").html(mm_title);
    $("#bb-title").html(bb_title);
    $(".icon-left").addClass("icon-" + mmcm);
    $(".icon-right").addClass("icon-" + bbcm);
    var score = CM_JSON.mm[mmcm][bbcm].score;
    var star = CM_JSON.mm[mmcm][bbcm].star;
    $("#score").html(score);

    var best_value = CM_JSON.mm[mmcm].value + "妈妈最佳匹配宝宝:" + CM_JSON.mm[mmcm].best + "宝宝";
    $(".best-match").html(best_value);

    $(".share-msg").html("点击右上角分享，查看" + CM_JSON.mm[mmcm].value + "妈妈其他匹配报告");

    $("#i-star").html("");
    for (var ii = 0; ii < star; ii++) {
        $("#i-star").append("<i class=\"star\"></i>");
    }
    $("#p2").hide();
    $("#p3").show('slow');
}

function getConstellationmatch(month, date) {
    console.log(month, date)
    // alert(month);
    // alert(date);
    if (month == 1 && date >= 20 || month == 2 && date <= 18) {
        return "sp";
    }
    if (month == 1 && date > 31) {
        return "Huh?";
    }
    if (month == 2 && date >= 19 || month == 3 && date <= 20) {
        return "sy";
    }
    if (month == 2 && date > 29) {
        return "Say what?";
    }
    if (month == 3 && date >= 21 || month == 4 && date <= 19) {
        return "by";
    }
    if (month == 3 && date > 31) {
        return "OK. Whatever.";
    }
    if (month == 4 && date >= 20 || month == 5 && date <= 20) {
        return "jn";
    }
    if (month == 4 && date > 30) {
        return "I'm soooo sorry!";
    }
    if (month == 5 && date >= 21 || month == 6 && date <= 21) {
        return "sz";
    }
    if (month == 5 && date > 31) {
        return "Umm ... no.";
    }
    if (month == 6 && date >= 22 || month == 7 && date <= 22) {
        return "jx";
    }
    if (month == 6 && date > 30) {
        return "Sorry.";
    }
    if (month == 7 && date >= 23 || month == 8 && date <= 22) {
        return "szi";
    }
    if (month == 7 && date > 31) {
        return "Excuse me?";
    }
    if (month == 8 && date >= 23 || month == 9 && date <= 22) {
        return "cn";
    }
    if (month == 8 && date > 31) {
        return "Yeah. Right.";
    }
    if (month == 9 && date >= 23 || month == 10 && date <= 23) {
        return "tp";
    }
    if (month == 9 && date > 30) {
        return "Try Again.";
    }
    if (month == 10 && date >= 24 || month == 11 && date <= 22) {
        return "tx";
    }
    if (month == 10 && date > 31) {
        return "Forget it!";
    }
    if (month == 11 && date >= 23 || month == 12 && date <= 21) {
        return "ss";
    }
    if (month == 11 && date > 30) {
        return "Invalid Date";
    }
    if (month == 12 && date >= 22 || month == 1 && date <= 19) {
        return "mj";
    }
    if (month == 12 && date > 31) {
        return "No way!";
    }

}